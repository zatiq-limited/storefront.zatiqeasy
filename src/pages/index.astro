---
/**
 * ========================================
 * HOMEPAGE
 * ========================================
 * 
 * Fetches data from API and renders sections dynamically
 * 
 * Backend API Endpoint: GET /api/storefront/v1/page/home
 */

import Layout from '../layouts/main.astro';
import SectionRenderer from '../components/SectionRenderer';
import { getHomepageData } from '../lib/api-client';

// Fetch homepage data from API
const homepageData = await getHomepageData();

const { template, sections = [], seo = {} } = homepageData.data || homepageData;
---

<Layout 
	title={seo?.title || 'Home'}
	description={seo?.description}
	image={seo?.og?.image}
>
	<main class="zatiq-homepage">
		<SectionRenderer sections={sections} client:load />
	</main>
</Layout>
